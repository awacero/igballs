#  Dise帽o del Sistema

**Nombre del proyecto: IGBALLS**  

**Visualizaci贸n 3D del mecanismo de falla del terremoto de Pedernales (Mw 7.8, 2016)**

---

##  Estructura del Proyecto

igballs/  
 igballs.py # Script principal de ejecuci贸n  
 igballs_fault.py # Generaci贸n de la figura 3D  
 igballs_balls.py # Funci贸n para generar la beachball  
 igballs_functions.py # (referenciado, posible m贸dulo para funciones auxiliares)  
 docs/  
 requerimientos.md  
 analisis.md  
 diseno.md  


---

##  Flujo del sistema

1. El usuario ejecuta `igballs.py`, donde se definen los par谩metros `strike`, `dip`, `rake`.
2. Este script llama a `create_figure()` desde `igballs_fault.py`.
3. Dentro de `create_figure()`, se calculan vectores geom茅tricos y se genera la escena 3D con Plotly.
4. Para representar la beachball, se llama a `create_beach_ball()` desde `igballs_balls.py`.
5. Se retorna una `go.Figure` animada e interactiva, con anotaciones y controles.

---

## П M贸dulos y responsabilidades

| M贸dulo                 | Responsabilidad principal                                     |
|------------------------|---------------------------------------------------------------|
| `igballs.py`           | Script principal; define par谩metros y lanza la visualizaci贸n  |
| `igballs_fault.py`     | Genera toda la figura 3D: cu帽as, planos, animaciones, ejes    |
| `igballs_balls.py`     | Dibuja la beachball en el plano focal                         |
| `igballs_functions.py` | (pendiente) Funciones auxiliares reutilizables (a futuro)     |

---

##  Funciones principales

### En `igballs_fault.py`
- `create_figure(strike, dip, rake) -> go.Figure`: genera la escena 3D completa y la devuelve como objeto Plotly.

### En `igballs_balls.py`
- `create_beach_ball(center, strike_vec, dip_vec, normal_vec)`: genera una esfera coloreada seg煤n el mecanismo focal.

---

##  Diagrama UML (Dise帽o Modular)

```plaintext
+--------------------+       +-------------------------+
|    igballs.py      |       |   igballs_fault.py      |
+--------------------+       +-------------------------+
| + main()           |       | + create_figure()       |
+--------------------+       +-------------------------+
        |                               |
        v                               v
+--------------------+       +-------------------------+
| igballs_balls.py   |       | igballs_functions.py*   |
+--------------------+       +-------------------------+
| + create_beach_ball|       | + funciones auxiliares  |
+--------------------+       +-------------------------+

(* = m贸dulo sugerido a futuro)

```

##  Librer铆as utilizadas
numpy: para c谩lculo de vectores y geometr铆a.

plotly.graph_objects: para renderizado 3D interactivo.

scipy.spatial.transform.Rotation (en versiones anteriores, si usas rotaciones).

## Dise帽o visual
Se utiliza Plotly Mesh3d, Surface, Cone y Scatter3d para crear:

Placas tect贸nicas

Plano de falla

Beachball

Vectores cardinales

Animaci贸n del bloque en movimiento

## Posibles mejoras futuras
Modularizar funciones repetidas en igballs_functions.py

Separar configuraciones (ej. par谩metros visuales) en un archivo .ini o .yaml

Exportar figura como HTML o video

Crear interfaz web con Dash o Streamlit

## Justificaci贸n del dise帽o

El dise帽o orientado a m贸dulos facilita:

El mantenimiento del c贸digo

La reusabilidad de funciones como create_beach_ball

La extensi贸n del sistema para visualizar otros sismos o mecanismos


